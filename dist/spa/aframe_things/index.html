<!doctype html>
<html lang="en">
<!-- based on automatically Generated by AFRAME Exporter for Blender - https://silverslade.itch.io/a-frame-blender-exporter -->
<head>
    <title>GLTF viewer</title>
    <link rel="icon" type="image/png" href="favicon.ico"/>
    <meta name="description" content="3D Application"/>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <script src="./js/aframe-v1.2.0.js"></script>
    <script src="./js/aframe-extras.js"></script>
    <script src="./js/aframe-orbit-controls.js"></script>
    <script src="./js/main.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <a-scene
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false"
        loading-screen="dotsColor: gray; backgroundColor: white"
        stats
        
        shadow="type: pcfsoft; autoUpdate: true;"
        renderer="
            antialias: true;
            colorManagement: true;
            physicallyCorrectLights: true;
            maxCanvasWidth: 1600;
            maxCanvasHeight: 1200;
        "
        init_page
    >
        <!-- renderer settings:
            https://aframe.io/docs/1.2.0/components/renderer.html#sidebar
            maxCanvasWidth
            maxCanvasHeight
            test case:
            https://jsfiddle.net/s_light/19bnokae/
        -->

        <!-- Assets -->
        <!-- loading timeout
            after this time the scene starts to show / render.
            https://aframe.io/docs/1.2.0/core/asset-management-system.html#setting-a-timeout
            setting to 0 so it is display as fast as possible.
            timeout="120000"
            timeout="0"
        -->
        <!-- MAGIC-COMMENT replace_search="src=\"./" replace_with="src=\"/aframe_things/" -->
        <a-assets>
            <!-- <a-asset-item id="usermodel" src="" ></a-asset-item> -->
            <img id="icon-play" src="./resources//play.png" crossorigin="anonymous" />            <img id="icon-pause" src="./resources//pause.png" crossorigin="anonymous" />            <img id="icon-play-skip-back" src="./resources//play-skip-back.png" crossorigin="anonymous" />            <img id="icon-mute" src="./resources//mute.png" crossorigin="anonymous" />            <img id="icon-volume-low" src="./resources//volume-low.png" crossorigin="anonymous" />            <img id="icon-volume-high" src="./resources//volume-high.png" crossorigin="anonymous" />            <img id="image1" src="./media//image1.png" crossorigin="anonymous" />            <img id="image2" src="./media//image2.png" crossorigin="anonymous" />            <img id="sky" src="./env//hilly_terrain_01__Q85P_8192x4096.jpg" crossorigin="anonymous" />
        </a-assets>




        <!-- Entities -->
        <!--
            https://aframe.io/docs/1.2.0/components/position.html
            A-Frame uses a right-handed coordinate system where the negative Z axis extends into the screen.
            The table below assumes looking down the negative Z axis from the origin.

            Axis 	Description 	Default Value
            x 	Negative X axis extends left. Positive X Axis extends right. 	0
            y 	Negative Y axis extends down. Positive Y Axis extends up. 	0
            z 	Negative Z axis extends in. Positive Z Axis extends out. 	0

            position="X Y Z"

            https://aframe.io/docs/1.2.0/components/animation.html#direct-values-through-object3d-and-components
            object3D.position.x
            position="-1 1 -2"
        -->
        <!-- <a-box
            id="atestcube"
            position="0 1 -2.5"
            rotation="90.00000250447816 0.0 -0.0"
            scale="1 1 1"
            shadow="cast: true"
            visible="true"
            class="clickable"
            depth="0.1"
            height="0.8"
            width="0.5"
            animation__y="property: object3D.rotation.y; to: 360; dur: 30000; easing: linear; loop: true"
            animation__click="property: object3D.rotation.x; to: '*=4'; dur: 3000; startEvents: click;"
        ></a-box> -->
        <a-entity
            gltf-model=""
            id="usermodel_entity"
            position="0.0 0.0 -0.0"
            rotation="0.0 -0.0 0.0"
            scale="1 1 1"
            shadow="cast: true"
            visible="true"
            animation-mixer
            animation-controlled
        ></a-entity>


                <a-sky src="#sky" material="" geometry="" rotation="0 90 0"></a-sky>





        <!-- Camera -->
        <!-- https://github.com/supermedium/superframe/tree/master/components/orbit-controls -->
        <a-entity id="camera"
            camera="
                fov:  60;
                far:  520;
            "
            look-controls="enabled:false"
            orbit-controls="
                target: 0 0.5 0;
                initialPosition: 0 0.5 1.0;
                minPolarAngle: 40;
                maxPolarAngle: 120;
                rotateSpeed: 0.009999999776482582;
                enableZoom: true;
                zoomSpeed: 1;
                minDistance: 0.1;
                maxDistance: 2.8;
                minZoom: 0.1;
                enablePan: false;
                autoRotate: true;
                autoRotateSpeed: -0.01;
            "
        >
            <a-entity
                id="cursor"
                cursor="
                    fuse: false;
                    rayOrigin: mouse;
                "
                position="0 0 -0.5"
                geometry="primitive: circle; radius: 0.0005;"
                material="color: #CCC; shader: flat;"
                raycaster="
                    far: 10.0;
                    interval: 300.0;
                    objects: .clickable,.links;
                "
            >
            <!--
            showLine: true;
            lineColor: red;
            lineOpacity: 0.5
            
            -->
            </a-entity>
        </a-entity>
        <!--
        look-controls="pointerLockEnabled: true"
        -->

        <!-- <a-entity id="player"
            position="0 -0.2 0"
            movement-controls="speed: 0.009999999776482582;">
            
        </a-entity> -->






        <!-- Lights -->
        <a-entity
            id="light_ambient"
            light="
                type: ambient;
                intensity: 1.0
            "
        ></a-entity>
        <a-entity
            id="light_sun"
            light="
                type: directional;
                intensity: 2;
                castShadow: true;
                shadowBias: -0.0004;

                shadowMapHeight: 1024;
                shadowMapWidth: 1024;

                shadowCameraNear: 0;
                shadowCameraFar: 50;
                shadowCameraFov: 102;

                shadowCameraBottom: 12;
                shadowCameraTop: -5;
                shadowCameraRight: 10;
                shadowCameraLeft: -10;

                shadowRadius: 2
            "
            position="4 10 10"
        ></a-entity>


        <!-- Sky -->
        <!-- currently the sun-sky component is broken..
        <a-sun-sky material="sunPosition: -0.2 0.5 -5"></a-sun-sky> -->
        <!-- <a-gradient-sky
            material="shader: gradient;
            topColor: 255 0 0;
            bottomColor: 0 121 255;"
        ></a-gradient-sky>
        same for a-gradient-sky component. but we can use the shader from this to do
        the same with the normal sky component
        -->
        <!-- <a-sky material="shader: gradient; topColor: 240 245 255; bottomColor: 255 200 80;"></a-sky> -->





        <!-- THE END -->
        <noscript>
            <style media="screen">
                a-scene {
                    display: block;
                    position: absolute;
                    height: 0%;
                    width: 0%;
                    top: 0;
                }
            </style>
        </noscript>
    </a-scene>

    <div class="overlay">
        <section class="load_model">
            <input
                type="file"
                id="fileinput"
                class="visually-hidden"
                accept=".gltf, .glb"
            />
            <label for="fileinput">Select some files</label>
            <div id="dropzone" class="dropzone">
                <p>drop your file here</p>
            </div>
        </section>
        <section class="animation_controls">
            <h4>Animation Controls</h4>
            <div>
                <ul id="ui_animation_list">
                    <li>-</li>
                </ul>
            </div>
        </section>
    </div>
</body>
</html>
